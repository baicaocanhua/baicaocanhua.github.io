<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2018student" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/26/2018student/" class="article-date">
  <time datetime="2018-02-26T08:18:28.000Z" itemprop="datePublished">2018-02-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/26/2018student/">2018student</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2018-02-26"><a href="#2018-02-26" class="headerlink" title="2018-02-26"></a>2018-02-26</h1><p><a href="http://www.cnblogs.com/sunkaixuan/archive/2018/02/21/8454844.html" target="_blank" rel="noopener">SqlSugar ORM 入门到精通【一】入门篇</a><br><a href="http://www.cnblogs.com/OMango/archive/2018/02/22/8460092.html" target="_blank" rel="noopener">.NET Core使用swagger进行API接口文档管理</a><br><a href="http://www.cnblogs.com/penghuwan/archive/2018/02/23/8461293.html" target="_blank" rel="noopener">【Java】多线程初探</a><br><a href="http://www.cnblogs.com/chiangchou/archive/2018/02/23/sunny-1.html#_label0" target="_blank" rel="noopener">使用Spring Boot搭建应用开发框架(一) —— 基础架构</a><br><a href="http://www.cnblogs.com/nnngu/p/8471043.html?utm_source=gold_browser_extension#autoid-45-0-0" target="_blank" rel="noopener">Java面试题库及答案解析</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/26/2018student/" data-id="cje40g03x000004nvhwse8j02" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-SpringBoot整合Swagger2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/08/SpringBoot整合Swagger2/" class="article-date">
  <time datetime="2018-02-08T06:53:50.000Z" itemprop="datePublished">2018-02-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/08/SpringBoot整合Swagger2/">SpringBoot整合Swagger2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="在pom-xml中引入依赖"><a href="#在pom-xml中引入依赖" class="headerlink" title="在pom.xml中引入依赖"></a>在pom.xml中引入依赖</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.springfox&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.7.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.springfox&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.7.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h1 id="添加配置类"><a href="#添加配置类" class="headerlink" title="添加配置类"></a>添加配置类</h1><h2 id="在Main同一级添加一个类"><a href="#在Main同一级添加一个类" class="headerlink" title="在Main同一级添加一个类"></a>在Main同一级添加一个类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">package com.maimai.mybatisApp;</span><br><span class="line"></span><br><span class="line">import com.google.common.base.Predicate;</span><br><span class="line">import org.springframework.boot.autoconfigure.web.BasicErrorController;</span><br><span class="line">import org.springframework.context.annotation.Bean;</span><br><span class="line">import org.springframework.context.annotation.Configuration;</span><br><span class="line">import org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line">import org.springframework.web.bind.annotation.RestController;</span><br><span class="line">import springfox.documentation.RequestHandler;</span><br><span class="line">import springfox.documentation.builders.ApiInfoBuilder;</span><br><span class="line">import springfox.documentation.builders.PathSelectors;</span><br><span class="line">import springfox.documentation.builders.RequestHandlerSelectors;</span><br><span class="line">import springfox.documentation.service.ApiInfo;</span><br><span class="line">import springfox.documentation.service.Contact;</span><br><span class="line">import springfox.documentation.spi.DocumentationType;</span><br><span class="line">import springfox.documentation.spring.web.plugins.Docket;</span><br><span class="line"></span><br><span class="line">import static springfox.documentation.builders.PathSelectors.regex;</span><br><span class="line">import static com.google.common.base.Predicates.or;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by maimai on 2018-02-08.</span><br><span class="line"> */</span><br><span class="line">@Configuration</span><br><span class="line">public class Swagger2 &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public Docket createRestApi() &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //我针对RestController注解的类和ResponseBody注解的方法才生成Swaager的API，并且排除了特定的类</span><br><span class="line">        Predicate&lt;RequestHandler&gt; predicate = new Predicate&lt;RequestHandler&gt;() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean apply(RequestHandler input) &#123;</span><br><span class="line">                Class&lt;?&gt; declaringClass = input.declaringClass();</span><br><span class="line">                if (declaringClass == BasicErrorController.class)// 排除</span><br><span class="line">                    return false;</span><br><span class="line">                if (declaringClass.isAnnotationPresent(RestController.class)) // 被注解的类</span><br><span class="line">                    return true;</span><br><span class="line">                if (input.isAnnotatedWith(ResponseBody.class)) // 被注解的方法</span><br><span class="line">                    return true;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        return new Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .groupName(&quot;api&quot;)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(&quot;com.maimai.mybatisApp.controller&quot;))</span><br><span class="line">//                .paths(PathSelectors.any())</span><br><span class="line">//                .paths(or(regex(&quot;/api/.*&quot;)))//过滤接口//只要api下面的接口</span><br><span class="line">                .paths(doFilteringRules())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置过滤规则</span><br><span class="line">     * 这里的过滤规则支持正则匹配</span><br><span class="line">     *</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    private Predicate&lt;String&gt; doFilteringRules() &#123;</span><br><span class="line">        return or(</span><br><span class="line">                regex(&quot;/api.*&quot;),</span><br><span class="line">                regex(&quot;/vehicles.*&quot;)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private ApiInfo apiInfo() &#123;</span><br><span class="line">        return new ApiInfoBuilder()</span><br><span class="line">                .title(&quot;springboot利用swagger构建api文档&quot;)</span><br><span class="line">                .description(&quot;简单优雅的restfun风格，https://baicaocanhua.github.io/&quot;)</span><br><span class="line">                .termsOfServiceUrl(&quot;NO terms of service&quot;)</span><br><span class="line">                .contact(new Contact(&quot;麦麦&quot;, &quot;https://baicaocanhua.github.io/&quot;, &quot;330557864@qq.com&quot;))//作者</span><br><span class="line">                .version(&quot;1.0&quot;)</span><br><span class="line">                .license(&quot;The Apache License, Version 2.0&quot;)</span><br><span class="line">                .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="过滤接口-只要api下面的接口"><a href="#过滤接口-只要api下面的接口" class="headerlink" title="过滤接口//只要api下面的接口"></a>过滤接口//只要api下面的接口</h1><p>.paths(or(regex(“/api/.*”)))//</p>
<h1 id="只要get-请求"><a href="#只要get-请求" class="headerlink" title="只要get 请求"></a>只要get 请求</h1><p>@RequestMapping(value =”api/getName”, method = {RequestMethod.GET,RequestMethod.PATCH})<br>//我针对RestController注解的类和ResponseBody注解的方法才生成Swaager的API，并且排除了特定的类<br>        Predicate<requesthandler> predicate = new Predicate<requesthandler>() {<br>            @Override<br>            public boolean apply(RequestHandler input) {<br>                Class&lt;?&gt; declaringClass = input.declaringClass();<br>                if (declaringClass == BasicErrorController.class)// 排除<br>                    return false;<br>                if (declaringClass.isAnnotationPresent(RestController.class)) // 被注解的类<br>                    return true;<br>                if (input.isAnnotatedWith(ResponseBody.class)) // 被注解的方法<br>                    return true;<br>                return false;<br>            }<br>        };</requesthandler></requesthandler></p>
<h1 id="基本完事，详情就是添加注解"><a href="#基本完事，详情就是添加注解" class="headerlink" title="基本完事，详情就是添加注解"></a>基本完事，详情就是添加注解</h1><h1 id="将swagger-ui中的界面配置至spring-boot环境-目前没用到"><a href="#将swagger-ui中的界面配置至spring-boot环境-目前没用到" class="headerlink" title="将swagger-ui中的界面配置至spring-boot环境  目前没用到"></a>将swagger-ui中的界面配置至spring-boot环境  目前没用到</h1><blockquote>
<p>spring-boot有自己的一套web端拦截机制，若需要看到swagger发布的api文档界面，需要做一些特殊的配置，将springfox-swagger-ui包中的ui界面暴露给spring-boot资源环境。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class WebMvcConfig extends WebMvcConfigurerAdapter &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void addResourceHandlers(ResourceHandlerRegistry registry) &#123;</span><br><span class="line">        registry.addResourceHandler(&quot;/js/**&quot;).addResourceLocations(&quot;classpath:/js/&quot;);</span><br><span class="line">        registry.addResourceHandler(&quot;swagger-ui.html&quot;)</span><br><span class="line">                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);</span><br><span class="line">        registry.addResourceHandler(&quot;/webjars/**&quot;)</span><br><span class="line">                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>/**</p>
<pre><code>* SpringBoot默认已经将classpath:/META-INF/resources/和classpath:/META-INF/resources/webjars/映射
* 所以该方法不需要重写，如果在SpringMVC中，可能需要重写定义（我没有尝试）
* 重写该方法需要 extends WebMvcConfigurerAdapter
* 
*/
</code></pre><p>//    @Override<br>//    public void addResourceHandlers(ResourceHandlerRegistry registry) {<br>//        registry.addResourceHandler(“swagger-ui.html”)<br>//                .addResourceLocations(“classpath:/META-INF/resources/“);<br>//<br>//        registry.addResourceHandler(“/webjars/**”)<br>//                .addResourceLocations(“classpath:/META-INF/resources/webjars/“);<br>//    }</p>
<h1 id="spring-boot-swagger2-使用手册"><a href="#spring-boot-swagger2-使用手册" class="headerlink" title="spring-boot-swagger2 使用手册"></a>spring-boot-swagger2 使用手册</h1><h2 id="在项目中常用的注解说明"><a href="#在项目中常用的注解说明" class="headerlink" title="在项目中常用的注解说明"></a>在项目中常用的注解说明</h2><p><code><br>@Api(value = “1111”,tags = “标签”,produces = “生产者”,consumes = “消费者”,protocols = “协议”,description = “描述”)  </code></p>
<p>@ApiOperation(value=”获取用户详细信息”, notes=”根据url的id来获取用户详细信息”)  </p>
<p>@ApiImplicitParam(name = “name”, value = “用户name”, required = true, dataType = “String”, paramType = “path”)<br>&lt;/code<br>多个参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ApiImplicitParams(&#123;  </span><br><span class="line">          @ApiImplicitParam(name = &quot;username&quot;, value = &quot;用户名&quot;, required = true ,dataType = &quot;string&quot;), </span><br><span class="line">          @ApiImplicitParam(name = &quot;passwd&quot;, value = &quot;密码&quot;, required = true ,dataType = &quot;string&quot;)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@ApiResponses(value = &#123;</span><br><span class="line">            @ApiResponse(code = 200, message = &quot;Successful — 请求已完成&quot;),</span><br><span class="line">            @ApiResponse(code = 400, message = &quot;请求中有语法问题，或不能满足请求&quot;),</span><br><span class="line">            @ApiResponse(code = 401, message = &quot;未授权客户机访问数据&quot;),</span><br><span class="line">            @ApiResponse(code = 404, message = &quot;服务器找不到给定的资源；文档不存在&quot;),</span><br><span class="line">            @ApiResponse(code = 500, message = &quot;服务器不能完成请求&quot;)&#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<table><thead><tr><th><span>注解</span></th><br><th><span>属性</span></th><br><th><span>值</span></th><br><th><span>备注</span></th><br></tr></thead><tbody><tr><td><code>@Api</code></td><br><td>value</td><br><td>字符串</td><br><td>可用在<code>class</code>头上,<code>class</code>描述</td><br></tr><tr><td>&nbsp;</td><br><td>description</td><br><td>字符串</td><br><td>&nbsp;</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td><code>@Api</code>(value = “xxx”, description = “xxx”)</td><br></tr><tr><td><code>@ApiOperation</code></td><br><td>value</td><br><td>字符串</td><br><td>可用在方法头上.参数的描述容器</td><br></tr><tr><td>&nbsp;</td><br><td>notes</td><br><td>字符串</td><br><td>&nbsp;</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td><code>@ApiOperation</code>(value = “xxx”, notes = “xxx”)</td><br></tr><tr><td><code>@ApiImplicitParams</code></td><br><td>{}</td><br><td><code>@ApiImplicitParam</code>数组</td><br><td>可用在方法头上.参数的描述容器</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td><code>@ApiImplicitParams</code>({<code>@ApiImplicitParam1</code>,<code>@ApiImplicitParam2</code>,…})</td><br></tr><tr><td><code>@ApiImplicitParam</code></td><br><td>name</td><br><td>字符串 与参数命名对应</td><br><td>可用在<code>@ApiImplicitParams</code>里</td><br></tr><tr><td>&nbsp;</td><br><td>value</td><br><td>字符串</td><br><td>参数中文描述</td><br></tr><tr><td>&nbsp;</td><br><td>required</td><br><td>布尔值</td><br><td>true/false</td><br></tr><tr><td>&nbsp;</td><br><td>dataType</td><br><td>字符串</td><br><td>参数类型</td><br></tr><tr><td>&nbsp;</td><br><td>paramType</td><br><td>字符串</td><br><td>参数请求方式:query/path</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td>query:对应<code>@RequestParam</code>?传递</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td>path: 对应<code>@PathVariable</code>{}path传递</td><br></tr><tr><td>&nbsp;</td><br><td>defaultValue</td><br><td>字符串</td><br><td>在api测试中默认值</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td>用例参见项目中的设置</td><br></tr><tr><td><code>@ApiResponses</code></td><br><td>{}</td><br><td><code>@ApiResponse</code>数组</td><br><td>可用在方法头上.参数的描述容器</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td><code>@ApiResponses</code>({<code>@ApiResponse1</code>,<code>@ApiResponse2</code>,…})</td><br></tr><tr><td><code>@ApiResponse</code></td><br><td>code</td><br><td>整形</td><br><td>可用在<code>@ApiResponses</code>里</td><br></tr><tr><td>&nbsp;</td><br><td>message</td><br><td>字符串</td><br><td>错误描述</td><br></tr><tr><td>&nbsp;</td><br><td>&nbsp;</td><br><td>&nbsp;</td><br><td><code>@ApiResponse</code>(code = 200, message = “Successful”)</td><br></tr></tbody></table>

<h1 id="最常用的5个注解"><a href="#最常用的5个注解" class="headerlink" title="最常用的5个注解"></a>最常用的5个注解</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Api：修饰整个类，描述Controller的作用</span><br><span class="line">@ApiOperation：描述一个类的一个方法，或者说一个接口</span><br><span class="line">@ApiParam：单个参数描述</span><br><span class="line">@ApiModel：用对象来接收参数</span><br><span class="line">@ApiProperty：用对象接收参数时，描述对象的一个字段</span><br></pre></td></tr></table></figure>
<h1 id="其它若干"><a href="#其它若干" class="headerlink" title="其它若干"></a>其它若干</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ApiResponse：HTTP响应其中1个描述</span><br><span class="line">@ApiResponses：HTTP响应整体描述</span><br><span class="line">@ApiIgnore：使用该注解忽略这个API </span><br><span class="line"></span><br><span class="line">@ApiClass</span><br><span class="line">@ApiError</span><br><span class="line">@ApiErrors</span><br><span class="line"></span><br><span class="line">@ApiParamImplicit</span><br><span class="line">@ApiParamsImplicit</span><br></pre></td></tr></table></figure>
<p>参考链接  </p>
<p><a href="http://blog.csdn.net/catoop/article/details/50668896" target="_blank" rel="noopener"> Spring Boot 集成Swagger</a><br><a href="http://blog.csdn.net/switch513/article/details/53910633" target="_blank" rel="noopener">spring-boot-swagger2 使用手册</a><br><a href="https://www.cnblogs.com/lixuwu/p/5804793.html#_label1" target="_blank" rel="noopener">Spring boot——logback 基础使用篇（一）</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/08/SpringBoot整合Swagger2/" data-id="cje40g046000304nv1jg748bf" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/07/java学习/" class="article-date">
  <time datetime="2018-02-07T09:33:05.000Z" itemprop="datePublished">2018-02-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/07/java学习/">java学习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Java 后端自学之路<br><a href="http://objcoding.com/2018/02/07/javaweb-learning/" target="_blank" rel="noopener">http://objcoding.com/2018/02/07/javaweb-learning/</a><br><a href="https://juejin.im/entry/5a7a9a13f265da4e865a578c?utm_source=gold_browser_extension" target="_blank" rel="noopener">https://juejin.im/entry/5a7a9a13f265da4e865a578c?utm_source=gold_browser_extension</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/07/java学习/" data-id="cje40g04e000804nvp99ebh3l" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Python爬虫技巧之设置代理IP" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/07/Python爬虫技巧之设置代理IP/" class="article-date">
  <time datetime="2018-02-07T06:20:48.000Z" itemprop="datePublished">2018-02-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/07/Python爬虫技巧之设置代理IP/">Python爬虫技巧之设置代理IP</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在学习Python爬虫的时候，经常会遇见所要爬取的网站采取了反爬取技术，高强度、高效率地爬取网页信息常常会给网站服务器带来巨大压力，所以同一个IP反复爬取同一个网页，就很可能被封，这里讲述一个爬虫技巧，设置代理IP。</p>
<p>（一）配置环境<br>安装requests库<br>安装bs4库<br>安装lxml库<br>（二）代码展示</p>
<h1 id="IP地址取自国内髙匿代理IP网站：http-www-xicidaili-com-nn"><a href="#IP地址取自国内髙匿代理IP网站：http-www-xicidaili-com-nn" class="headerlink" title="IP地址取自国内髙匿代理IP网站：http://www.xicidaili.com/nn/"></a>IP地址取自国内髙匿代理IP网站：<a href="http://www.xicidaili.com/nn/" target="_blank" rel="noopener">http://www.xicidaili.com/nn/</a></h1><h1 id="仅仅爬取首页IP地址就足够一般使用"><a href="#仅仅爬取首页IP地址就足够一般使用" class="headerlink" title="仅仅爬取首页IP地址就足够一般使用"></a>仅仅爬取首页IP地址就足够一般使用</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">import random</span><br><span class="line"></span><br><span class="line">def get_ip_list(url, headers):</span><br><span class="line">    web_data = requests.get(url, headers=headers)</span><br><span class="line">    soup = BeautifulSoup(web_data.text, &apos;lxml&apos;)</span><br><span class="line">    ips = soup.find_all(&apos;tr&apos;)</span><br><span class="line">    ip_list = []</span><br><span class="line">    for i in range(1, len(ips)):</span><br><span class="line">        ip_info = ips[i]</span><br><span class="line">        tds = ip_info.find_all(&apos;td&apos;)</span><br><span class="line">        ip_list.append(tds[1].text + &apos;:&apos; + tds[2].text)</span><br><span class="line">    return ip_list</span><br><span class="line"></span><br><span class="line">def get_random_ip(ip_list):</span><br><span class="line">    proxy_list = []</span><br><span class="line">    for ip in ip_list:</span><br><span class="line">        proxy_list.append(&apos;http://&apos; + ip)</span><br><span class="line">    proxy_ip = random.choice(proxy_list)</span><br><span class="line">    proxies = &#123;&apos;http&apos;: proxy_ip&#125;</span><br><span class="line">    return proxies</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    url = &apos;http://www.xicidaili.com/nn/&apos;</span><br><span class="line">    headers = &#123;</span><br><span class="line">        &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    ip_list = get_ip_list(url, headers=headers)</span><br><span class="line">    proxies = get_random_ip(ip_list)</span><br><span class="line">    print(proxies)</span><br></pre></td></tr></table></figure>
<p>函数get_ip_list(url, headers)传入url和headers，最后返回一个IP列表，列表的元素类似42.84.226.65:8888格式，这个列表包括国内髙匿代理IP网站首页所有IP地址和端口。<br>函数get_random_ip(ip_list)传入第一个函数得到的列表，返回一个随机的proxies，这个proxies可以传入到requests的get方法中，这样就可以做到每次运行都使用不同的IP访问被爬取的网站，有效地避免了真实IP被封的风险。proxies的格式是一个字典：{‘http’: ‘<a href="http://42.84.226.65:8888‘}。" target="_blank" rel="noopener">http://42.84.226.65:8888‘}。</a><br>（三）代理IP的使用<br>运行上面的代码会得到一个随机的proxies，把它直接传入requests的get方法中即可。</p>
<p>web_data = requests.get(url, headers=headers, proxies=proxies)</p>
<p>转载 <a href="http://blog.csdn.net/lammonpeter/article/details/52917264" target="_blank" rel="noopener">http://blog.csdn.net/lammonpeter/article/details/52917264</a></p>
<p>python3获取免费代理IP<br><a href="http://blog.csdn.net/yixianfeng41/article/details/53045704" target="_blank" rel="noopener">http://blog.csdn.net/yixianfeng41/article/details/53045704</a></p>
<p>proxy_support = urllib2.ProxyHandler({“http”:”101.53.101.172:9999”})<br>opener = urllib2.build_opener(proxy_support)<br>urllib2.install_opener(opener)<br>html=urllib2.urlopen(url)   </p>
<p>proxy_support = urllib.request.ProxyHandler({“http”: proxy})<br>                opener = urllib.request.build_opener(proxy_support)<br>                urllib.request.install_opener(opener)<br>                req = urllib.request.Request(self.url, headers=self.header)</p>
<pre><code># 访问
resp = urllib.request.urlopen(req, timeout=5)
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">#https://mp.weixin.qq.com/s?__biz=MzUxOTMyMzE2Mg==&amp;mid=2247495351&amp;idx=1&amp;sn=08e9376ca995095ed2543d05a0b8debf&amp;chksm=f9f9c5c2ce8e4cd458caabeeed698a2fd8a41268f535127efba9e41432a66b1ae6eee6d2efd6&amp;mpshare=1&amp;scene=23&amp;srcid=0207lkoJrdoBppvnRDzl8vkC#rd</span><br><span class="line"></span><br><span class="line">def getUrl():</span><br><span class="line">    for i in range(33):</span><br><span class="line">        url = &apos;http://task.zbj.com/t-ppsj/p&#123;&#125;s5.html&apos;.format(i + 1)</span><br><span class="line">        spiderPage(url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def spiderPage(url):</span><br><span class="line">    if url is None:</span><br><span class="line">        return None</span><br><span class="line">    # htmlText = requests.get(url).text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 代理和请求头</span><br><span class="line">    proxies = &#123;</span><br><span class="line">        &apos;http&apos;: &apos;http://221.202.248.52:80&apos;,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    user_agent = &apos;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.104 Safari/537.36 Core/1.53.4295.400&apos;</span><br><span class="line"></span><br><span class="line">    headers = &#123;&apos;User-Agent&apos;: user_agent&#125;</span><br><span class="line">    htmlText = requests.get(url, headers=headers, proxies=proxies).text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">selector = etree.HTML(htmlText)</span><br><span class="line">tds = selector.xpath(&apos;//*[@class=&quot;tab-switch tab-progress&quot;]/table/tr&apos;)</span><br><span class="line">try:</span><br><span class="line">    for td in tds:</span><br><span class="line">        price = td.xpath(&apos;./td/p/em/text()&apos;)</span><br><span class="line">        href = td.xpath(&apos;./td/p/a/@href&apos;)</span><br><span class="line">        title = td.xpath(&apos;./td/p/a/text()&apos;)</span><br><span class="line">        subTitle = td.xpath(&apos;./td/p/text()&apos;)</span><br><span class="line">        deadline = td.xpath(&apos;./td/span/text()&apos;)</span><br><span class="line">        price = price[0] if len(price) &gt; 0 else &apos;&apos;  # python的三目运算 :为真时的结果 if 判定条件 else 为假时的结果</span><br><span class="line">        title = title[0] if len(title) &gt; 0 else &apos;&apos;</span><br><span class="line">        href = href[0] if len(href) &gt; 0 else &apos;&apos;</span><br><span class="line">        subTitle = subTitle[0] if len(subTitle) &gt; 0 else &apos;&apos;</span><br><span class="line">        deadline = deadline[0] if len(deadline) &gt; 0 else &apos;&apos;</span><br><span class="line">        print(price, title, href, subTitle, deadline)</span><br><span class="line">        print(&apos;---------------------------------------------------------------------------------------&apos;)</span><br><span class="line">        spiderDetail(href)</span><br><span class="line">except:</span><br><span class="line">    print(&apos;出错&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def spiderDetail(url):</span><br><span class="line">    if url is None:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        htmlText = requests.get(url).text</span><br><span class="line">        selector = etree.HTML(htmlText)</span><br><span class="line">        aboutHref = selector.xpath(&apos;//*[@id=&quot;utopia_widget_10&quot;]/div[1]/div/div/div/p[1]/a/@href&apos;)</span><br><span class="line">        price = selector.xpath(&apos;//*[@id=&quot;utopia_widget_10&quot;]/div[1]/div/div/div/p[1]/text()&apos;)</span><br><span class="line">        title = selector.xpath(&apos;//*[@id=&quot;utopia_widget_10&quot;]/div[1]/div/div/h2/text()&apos;)</span><br><span class="line">        contentDetail = selector.xpath(&apos;//*[@id=&quot;utopia_widget_10&quot;]/div[2]/div/div[1]/div[1]/text()&apos;)</span><br><span class="line">        publishDate = selector.xpath(&apos;//*[@id=&quot;utopia_widget_10&quot;]/div[2]/div/div[1]/p/text()&apos;)</span><br><span class="line">        aboutHref = aboutHref[0] if len(aboutHref) &gt; 0 else &apos;&apos;  # python的三目运算 :为真时的结果 if 判定条件 else 为假时的结果</span><br><span class="line">        price = price[0] if len(price) &gt; 0 else &apos;&apos;</span><br><span class="line">        title = title[0] if len(title) &gt; 0 else &apos;&apos;</span><br><span class="line">        contentDetail = contentDetail[0] if len(contentDetail) &gt; 0 else &apos;&apos;</span><br><span class="line">        publishDate = publishDate[0] if len(publishDate) &gt; 0 else &apos;&apos;</span><br><span class="line">        print(aboutHref, price, title, contentDetail, publishDate)</span><br><span class="line">    except:</span><br><span class="line">        print(&apos;出错&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if &apos;_main_&apos;:</span><br><span class="line">    getUrl()</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/07/Python爬虫技巧之设置代理IP/" data-id="cje40g05e000n04nvhodqgbpf" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Sortable-js拖拽排序使用方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/02/Sortable-js拖拽排序使用方法/" class="article-date">
  <time datetime="2018-02-02T08:16:05.000Z" itemprop="datePublished">2018-02-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/02/Sortable-js拖拽排序使用方法/">Sortable.js拖拽排序使用方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Sortable-使用"><a href="#Sortable-使用" class="headerlink" title="Sortable 使用"></a>Sortable 使用</h1><h2 id="单列表拖拽"><a href="#单列表拖拽" class="headerlink" title="单列表拖拽"></a>单列表拖拽</h2><blockquote>
<p>1.引入js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;Sortable.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>2.css问题<br>不需要css，不会写的可以参考官网的app.css,<br>拖拽的时候有阴影效果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.sortable-ghost &#123;</span><br><span class="line"> opacity: 0.4;</span><br><span class="line"> background-color: #F4E2C9;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p>
<p>3.html代码<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=&quot;foo&quot; &gt;</span><br><span class="line">&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">&lt;li&gt;5&lt;/li&gt;</span><br><span class="line">&lt;li&gt;6&lt;/li&gt;</span><br><span class="line">&lt;li&gt;7&lt;/li&gt;</span><br><span class="line">&lt;li&gt;8&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure></p>
<p>4.script代码<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"> Sortable.create(document.getElementById(&apos;foo&apos;), &#123;&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>事件<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">		Sortable.create(document.getElementById(&apos;foo&apos;), &#123;</span><br><span class="line">			animation: 150, //动画参数</span><br><span class="line">			onAdd: function(evt) &#123; //拖拽时候添加有新的节点的时候发生该事件</span><br><span class="line">				console.log(&apos;onAdd.foo:&apos;, [evt.item, evt.from]);</span><br><span class="line">			&#125;,</span><br><span class="line">			onRemove: function(evt) &#123; //删除拖拽节点的时候促发该事件</span><br><span class="line">				console.log(&apos;onRemove.foo:&apos;, [evt.item, evt.from]);</span><br><span class="line">			&#125;,</span><br><span class="line">			onStart: function(evt) &#123; //开始拖拽出发该函数</span><br><span class="line">				console.log(&apos;onStart.foo1:&apos;, [evt.item, evt.from]);</span><br><span class="line">			&#125;,</span><br><span class="line">			onUpdate: function(evt) &#123; //拖拽更新节点位置发生该事件</span><br><span class="line">				console.log(&apos;onUpdate.foo2:&apos;, [evt.item, evt.from]);</span><br><span class="line">			&#125;,</span><br><span class="line">			onSort: function(evt) &#123; //发生排序发生该事件</span><br><span class="line">				console.log(&apos;onSort.foo3:&apos;, [evt.item, evt.from]);</span><br><span class="line">			&#125;,</span><br><span class="line">			onEnd: function(evt) &#123; //拖拽完毕之后发生该事件</span><br><span class="line">				console.log(&apos;onEnd.foo4:&apos;, [evt.item, evt.from]);</span><br><span class="line">				var arr = [];</span><br><span class="line">				for(var i = 0, len = evt.from.children.length; i &lt; len; i++) &#123;</span><br><span class="line">					arr.push(evt.from.children[i].getAttribute(&apos;drag-id&apos;));</span><br><span class="line">				&#125;</span><br><span class="line">				//然后请求后台ajax 这样就完成了拖拽排序</span><br><span class="line">				console.log(arr.join(&apos;,&apos;));</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;);</span><br><span class="line">	&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<h2 id="多列表拖拽"><a href="#多列表拖拽" class="headerlink" title="多列表拖拽"></a>多列表拖拽</h2><h4 id="主要参数是-group"><a href="#主要参数是-group" class="headerlink" title="主要参数是 group"></a>主要参数是 group</h4><p>group{<br>        name:”words”,name要相同才能互相拖拽<br>         pull:true,  则可以拖拽到其他列表 否则反之<br>         put:true,  则可以从其他列表中放数据到改列表，false则反之<br>    }<br> pull: ‘clone’, 还有一个作用是克隆，就是当这个列表拖拽到其他列表的时候不会删除改列表的节点。</p>
<h4 id="a和b可以相互拖拽-group的name要相同才能互相拖拽"><a href="#a和b可以相互拖拽-group的name要相同才能互相拖拽" class="headerlink" title="a和b可以相互拖拽,group的name要相同才能互相拖拽"></a>a和b可以相互拖拽,group的name要相同才能互相拖拽</h4> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sortable.create(document.getElementById(&apos;a&apos;), &#123;</span><br><span class="line"> group:&quot;words&quot;,</span><br><span class="line"> animation: 150, //动画参数</span><br><span class="line">&#125;)</span><br><span class="line"> Sortable.create(document.getElementById(&apos;b&apos;), &#123;</span><br><span class="line"> group:&quot;words&quot;,</span><br><span class="line"> animation: 150, //动画参数</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="只能从a列表拖拽到b列表"><a href="#只能从a列表拖拽到b列表" class="headerlink" title="只能从a列表拖拽到b列表"></a>只能从a列表拖拽到b列表</h4> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Sortable.create(document.getElementById(&apos;a&apos;), &#123;</span><br><span class="line"> group: &#123;</span><br><span class="line">  name:&quot;words&quot;,</span><br><span class="line">  pull: true,</span><br><span class="line">  put: true </span><br><span class="line">  &#125;,</span><br><span class="line"> animation: 150, //动画参数</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  Sortable.create(document.getElementById(&apos;b&apos;), &#123;</span><br><span class="line">  group: &#123;</span><br><span class="line">  name:&quot;words&quot;,</span><br><span class="line">  pull: false,</span><br><span class="line">  put: true </span><br><span class="line">  &#125;,</span><br><span class="line"> animation: 150, //动画参数</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h4> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sortable.create(document.getElementById(&apos;foo&apos;), &#123;</span><br><span class="line"> group: &#123;</span><br><span class="line">  name:&quot;words&quot;,</span><br><span class="line">  pull: &apos;clone&apos;,</span><br><span class="line">  put: true </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考地址<br><a href="https://www.cnblogs.com/hao123456/p/6025015.html" target="_blank" rel="noopener">html5 Sortable.js 拖拽排序源码分析</a><br><a href="http://rubaxa.github.io/Sortable/" target="_blank" rel="noopener">demo</a><br><a href="https://github.com/RubaXa/Sortable/" target="_blank" rel="noopener">github</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/02/Sortable-js拖拽排序使用方法/" data-id="cje40g044000204nvuf7sd179" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-fiddler试用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/01/fiddler试用/" class="article-date">
  <time datetime="2018-02-01T03:38:16.000Z" itemprop="datePublished">2018-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/01/fiddler试用/">fiddler试用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://www.cnblogs.com/TankXiao/archive/2012/02/06/2337728.html" target="_blank" rel="noopener">http://www.cnblogs.com/TankXiao/archive/2012/02/06/2337728.html</a></p>
<p>拦截请求<br>bpu 要连接的网址，然后回车,如： bpu <a href="http://baidu.com" target="_blank" rel="noopener">http://baidu.com</a><br>拦截响应<br> bpafter www.baidu.com<br>命令框输入“select script”</p>
<p>接着把这个请求拖动到“AutoResponder”面板.</p>
<p>拖动之前记得先勾上 “Enable automatic responses”和 “Permit passthrough for unmatched requests”.</p>
<p>Fiddler (四) 实现手机的抓包 - 小坦克<br>1：配置Fiddler,  允许”远程连接”<br>打开Fiddler,   Tools-&gt; Fiddler Options 。  （配置完后记得要重启Fiddler）.</p>
<ol>
<li>在HTTPS，选中”Decrpt HTTPS traffic”,    Fiddler就可以截获HTTPS请求  </li>
<li>在connectios，选中”Allow remote computers to connect”.  是允许别的机器把HTTP/HTTPS请求发送到Fiddler上来</li>
</ol>
<p>本机ip，192.168.20.58<br>打开iphone的浏览器，打开192.168.20.58:8888,点”FiddlerRoot certificate” 然后安装证书</p>
<p>Phone上配置Fiddler为代理<br>配置代理，手动<br>服务器 192.168.20.58<br>端口 8888</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/01/fiddler试用/" data-id="cje40g049000504nvyhso7uac" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-知乎登录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/01/知乎登录/" class="article-date">
  <time datetime="2018-02-01T03:18:10.000Z" itemprop="datePublished">2018-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/01/知乎登录/">知乎登录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>1.找到header<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">accept:application/json, text/plain, */*</span><br><span class="line">Accept-Encoding:gzip, deflate, br</span><br><span class="line">Accept-Language:zh-CN,zh;q=0.9</span><br><span class="line">authorization:oauth c3cef7c66a1843f8b3a9e6a1e3160e20</span><br><span class="line">Connection:keep-alive</span><br><span class="line">Content-Length:1234</span><br><span class="line">Content-Type:multipart/form-data; boundary=----WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Cookie:aliyungf_tc=AQAAAAbrBFEkNAMAB5tydRIHGKpf3Y8i; d_c0=&quot;AAAtAcHkEw2PTvvqvsmx7PXyZrCTY2he-Pw=|1517453334&quot;; _xsrf=d17f5e9d-0abd-4488-a2cb-a36ace177a9c; q_c1=ecf80c69aa564c8e802cfc61d104db10|1517453334000|1517453334000; _zap=0786fb99-927a-4f08-a939-9c77f5c10ef5; capsion_ticket=&quot;2|1:0|10:1517453428|14:capsion_ticket|44:ODkzYjQ0OGQ0M2QwNDkwOWFhYmNlYTllMjE4YjM0YmM=|83ad98f45adf416d046efcaffced35b109b2cc8db6b4f73a669484ed96ac4564&quot;</span><br><span class="line">Host:www.zhihu.com</span><br><span class="line">Origin:https://www.zhihu.com</span><br><span class="line">Referer:https://www.zhihu.com/signup?next=%2F</span><br><span class="line">User-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.119 Safari/537.36</span><br><span class="line">X-UDID:AAAtAcHkEw2PTvvqvsmx7PXyZrCTY2he-Pw=</span><br><span class="line">X-Xsrftoken:d17f5e9d-0abd-4488-a2cb-a36ace177a9c</span><br></pre></td></tr></table></figure></p>
<p>2.找到data<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;client_id&quot;</span><br><span class="line"></span><br><span class="line">c3cef7c66a1843f8b3a9e6a1e3160e20</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;grant_type&quot;</span><br><span class="line"></span><br><span class="line">password</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;timestamp&quot;</span><br><span class="line"></span><br><span class="line">1517453479552</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;source&quot;</span><br><span class="line"></span><br><span class="line">com.zhihu.web</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;signature&quot;</span><br><span class="line"></span><br><span class="line">c12a2eb4cba06ba1637f3262bc3bb144d33b3e2c</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;username&quot;</span><br><span class="line"></span><br><span class="line">330557864@qq.com</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;password&quot;</span><br><span class="line"></span><br><span class="line">maimai55661</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;captcha&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;lang&quot;</span><br><span class="line"></span><br><span class="line">en</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;ref_source&quot;</span><br><span class="line"></span><br><span class="line">homepage</span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN</span><br><span class="line">Content-Disposition: form-data; name=&quot;utm_source&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------WebKitFormBoundarysb9OkKceBnwatObN--</span><br></pre></td></tr></table></figure></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/01/知乎登录/" data-id="cje40g053000k04nvgckk9wtv" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-spring-boot-mybaits-xml-xml版本" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/24/spring-boot-mybaits-xml-xml版本/" class="article-date">
  <time datetime="2018-01-24T03:06:11.000Z" itemprop="datePublished">2018-01-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/24/spring-boot-mybaits-xml-xml版本/">spring-boot-mybaits-xml-xml版本</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="编写Dao层的代码"><a href="#编写Dao层的代码" class="headerlink" title="编写Dao层的代码"></a>编写Dao层的代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package com.maimai.mybatisApp.dao;</span><br><span class="line"></span><br><span class="line">import com.maimai.mybatisApp.Bean.Grade;</span><br><span class="line">import org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by maimai on 2018-02-05.</span><br><span class="line"> */</span><br><span class="line">@Mapper</span><br><span class="line">public class xmlGradeController &#123;</span><br><span class="line">    public List&lt;Grade&gt; getByGradeNm(String name);</span><br><span class="line">    public void save(Grade grade);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="修改application-properties-配置文件"><a href="#修改application-properties-配置文件" class="headerlink" title="修改application.properties 配置文件"></a>修改application.properties 配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mybatis.type-aliases-package=com.maimai.mybatisApp.Bean</span><br><span class="line">mybatis.mapper-locations=classpath:mapper/*.xml</span><br></pre></td></tr></table></figure>
<h3 id="在resources里面-创建mapper文件夹，再创建-GradeMapper-xml"><a href="#在resources里面-创建mapper文件夹，再创建-GradeMapper-xml" class="headerlink" title="在resources里面 创建mapper文件夹，再创建 GradeMapper.xml"></a>在resources里面 创建mapper文件夹，再创建 GradeMapper.xml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line">&lt;mapper namespace=&quot;com.maimai.mybatisApp.dao.GradeMapper&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;resultMap type=&quot;Grade&quot; id=&quot;resultListUser&quot;&gt;</span><br><span class="line">        &lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;</span><br><span class="line">        &lt;result column=&quot;grade_nm&quot; property=&quot;gradeNm&quot; /&gt;</span><br><span class="line">        &lt;result column=&quot;teacher_id&quot; property=&quot;teacherId&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=&quot;getByGradeNm&quot; resultType=&quot;Grade&quot; parameterType=&quot;String&quot;&gt;</span><br><span class="line">        select * from grade where grade_nm=#&#123;name&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;insert id=&quot;save&quot; parameterType=&quot;grade&quot;&gt;</span><br><span class="line">        INSERT INTO user(username,password,address) VALUES (#&#123;username&#125;,#&#123;password&#125;,#&#123;address&#125;)</span><br><span class="line">    &lt;/insert&gt;</span><br><span class="line"></span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
<p>mybatis.config-locations=classpath:mybatis/mybatis-config.xml<br>mybatis.mapper-locations=classpath:mybatis/mapper/*.xml</p>
<p>in check_header_validity<br> if not pat.match(value):<br> TypeError: expected string or bytes-like object</p>
<p> 爬虫的header里面不能有数字<br> ‘Upgrade-Insecure-Requests’: 1,<br> 改为<br> ‘Upgrade-Insecure-Requests’: str(1),</p>
<p>mybatis.type-aliases-package:com.chinac.ccs.mirror.pojo<br>mybatis.mapper-locations:classpath:/com/chinac/ccs/mirror/mapper/mapper*.xml</p>
<p>或者：</p>
<p>#mybatis配置</p>
<p>#Mapper.xml所在的位置<br>mybatis.mapper-locations=classpath<em>:mappers/</em>Mapper.xml</p>
<p>#entity扫描的包名<br>mybatis.type-aliases-package=com.example.entity</p>
<p>SpringBoot_集成MyBatis（XML方式）<br><a href="https://www.jianshu.com/p/a811a89d1b28" target="_blank" rel="noopener">https://www.jianshu.com/p/a811a89d1b28</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/24/spring-boot-mybaits-xml-xml版本/" data-id="cje40g04l000c04nv1ku6y7e3" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MyBatis入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/23/MyBatis入门/" class="article-date">
  <time datetime="2018-01-23T05:57:36.000Z" itemprop="datePublished">2018-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/23/MyBatis入门/">MyBatis入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h2 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;typeAliases&gt;</span><br><span class="line">  &lt;package name=&quot;domain.blog&quot;/&gt;</span><br><span class="line">&lt;/typeAliases&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>别名：包中的JavaBean会使用首字母小写类名作为别名，<br>domain.blog.Author 的别名为 author；<br>若有注解，则别名为其注解值。看下面的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Alias(&quot;author&quot;)</span><br><span class="line">public class Author &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<h2 id="映射器（mappers）"><a href="#映射器（mappers）" class="headerlink" title="映射器（mappers）"></a>映射器（mappers）</h2></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt;</span><br><span class="line">  &lt;package name=&quot;org.mybatis.builder&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure>
<h1 id="定义公共字段"><a href="#定义公共字段" class="headerlink" title="定义公共字段"></a>定义公共字段</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;sql id=&quot;Base_Column_List&quot; &gt;  </span><br><span class="line">    id, car_dept_name, car_maker_name, icon,car_maker_py,hot_type  </span><br><span class="line">  &lt;/sql&gt;  </span><br><span class="line">  &lt;select id=&quot;selectByPrimaryKey&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;java.lang.Long&quot; &gt;  </span><br><span class="line">    select   </span><br><span class="line">    &lt;include refid=&quot;Base_Column_List&quot; /&gt;  </span><br><span class="line">    from common_car_make  </span><br><span class="line">    where id = #&#123;id,jdbcType=BIGINT&#125;  </span><br><span class="line">  &lt;/select&gt;</span><br></pre></td></tr></table></figure>
<p><a href="http://blog.csdn.net/u010235716/article/details/51698422" target="_blank" rel="noopener">MyBatis的传入参数parameterType类型</a></p>
<h1 id="MyBatis的传入参数parameterType类型"><a href="#MyBatis的传入参数parameterType类型" class="headerlink" title="MyBatis的传入参数parameterType类型"></a>MyBatis的传入参数parameterType类型</h1><ol>
<li><p>MyBatis的传入参数parameterType类型分两种</p>
<ol>
<li><ol>
<li>基本数据类型：int,string,long,Date;</li>
</ol>
</li>
<li><ol>
<li>复杂数据类型：类和Map  </li>
</ol>
</li>
<li>如何获取参数中的值:</li>
</ol>
<p>2.1  基本数据类型：#{参数} 获取参数中的值</p>
<p>2.2  复杂数据类型：#{属性名}  ，map中则是#{key}  </p>
</li>
</ol>
<h1 id="基本数据类型案例"><a href="#基本数据类型案例" class="headerlink" title="基本数据类型案例"></a>基本数据类型案例</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;sql id=&quot;Base_Column_List&quot; &gt;  </span><br><span class="line">    id, car_dept_name, car_maker_name, icon,car_maker_py,hot_type  </span><br><span class="line">  &lt;/sql&gt;  </span><br><span class="line">  &lt;select id=&quot;selectByPrimaryKey&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;java.lang.Long&quot; &gt;  </span><br><span class="line">    select   </span><br><span class="line">    &lt;include refid=&quot;Base_Column_List&quot; /&gt;  </span><br><span class="line">    from common_car_make  </span><br><span class="line">    where id = #&#123;id,jdbcType=BIGINT&#125;  </span><br><span class="line">  &lt;/select&gt;</span><br></pre></td></tr></table></figure>
<h1 id="复杂类型–map类型"><a href="#复杂类型–map类型" class="headerlink" title="复杂类型–map类型"></a>复杂类型–map类型</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;queryCarMakerList&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;java.util.Map&quot;&gt;  </span><br><span class="line">        select  </span><br><span class="line">        &lt;include refid=&quot;Base_Column_List&quot; /&gt;  </span><br><span class="line">        from common_car_make cm  </span><br><span class="line">        where 1=1  </span><br><span class="line">        &lt;if test=&quot;id != null&quot;&gt;  </span><br><span class="line">            and  cm.id = #&#123;id,jdbcType=DECIMAL&#125;  </span><br><span class="line">        &lt;/if&gt;  </span><br><span class="line">        &lt;if test=&quot;carDeptName != null&quot;&gt;  </span><br><span class="line">            and  cm.car_dept_name = #&#123;carDeptName,jdbcType=VARCHAR&#125;  </span><br><span class="line">        &lt;/if&gt;  </span><br><span class="line">        &lt;if test=&quot;carMakerName != null&quot;&gt;  </span><br><span class="line">            and  cm.car_maker_name = #&#123;carMakerName,jdbcType=VARCHAR&#125;  </span><br><span class="line">        &lt;/if&gt;  </span><br><span class="line">        &lt;if test=&quot;hotType != null&quot; &gt;  </span><br><span class="line">           and  cm.hot_type = #&#123;hotType,jdbcType=BIGINT&#125;  </span><br><span class="line">        &lt;/if&gt;  </span><br><span class="line">        ORDER BY cm.id  </span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure>
<h1 id="复杂类型–类类型"><a href="#复杂类型–类类型" class="headerlink" title="复杂类型–类类型"></a>复杂类型–类类型</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=&quot;updateByPrimaryKeySelective&quot; parameterType=&quot;com.epeit.api.model.CommonCarMake&quot; &gt;  </span><br><span class="line">   update common_car_make  </span><br><span class="line">   &lt;set &gt;  </span><br><span class="line">     &lt;if test=&quot;carDeptName != null&quot; &gt;  </span><br><span class="line">       car_dept_name = #&#123;carDeptName,jdbcType=VARCHAR&#125;,  </span><br><span class="line">     &lt;/if&gt;  </span><br><span class="line">     &lt;if test=&quot;carMakerName != null&quot; &gt;  </span><br><span class="line">       car_maker_name = #&#123;carMakerName,jdbcType=VARCHAR&#125;,  </span><br><span class="line">     &lt;/if&gt;  </span><br><span class="line">     &lt;if test=&quot;icon != null&quot; &gt;  </span><br><span class="line">       icon = #&#123;icon,jdbcType=VARCHAR&#125;,  </span><br><span class="line">     &lt;/if&gt;  </span><br><span class="line">     &lt;if test=&quot;carMakerPy != null&quot; &gt;  </span><br><span class="line">           car_maker_py = #&#123;carMakerPy,jdbcType=VARCHAR&#125;,  </span><br><span class="line">     &lt;/if&gt;  </span><br><span class="line">     &lt;if test=&quot;hotType != null&quot; &gt;  </span><br><span class="line">           hot_type = #&#123;hotType,jdbcType=BIGINT&#125;,  </span><br><span class="line">     &lt;/if&gt;  </span><br><span class="line">   &lt;/set&gt;  </span><br><span class="line">   where id = #&#123;id,jdbcType=BIGINT&#125;  </span><br><span class="line"> &lt;/update&gt;</span><br></pre></td></tr></table></figure>
<h1 id="复杂类型–map中包含数组的情况"><a href="#复杂类型–map中包含数组的情况" class="headerlink" title="复杂类型–map中包含数组的情况"></a>复杂类型–map中包含数组的情况</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectProOrderByOrderId&quot; resultType=&quot;com.epeit.api.model.ProOrder&quot; parameterType=&quot;java.util.HashMap&quot; &gt;  </span><br><span class="line">        select sum(pro_order_num) proOrderNum,product_id productId,promotion_id promotionId  </span><br><span class="line">        from pro_order  </span><br><span class="line">        where 1=1  </span><br><span class="line">        &lt;if test=&quot;orderIds != null&quot;&gt;  </span><br><span class="line">          and  </span><br><span class="line">            &lt;foreach collection=&quot;orderIds&quot; item=&quot;item&quot; open=&quot;order_id IN(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;  </span><br><span class="line">                #&#123;item,jdbcType=BIGINT&#125;  </span><br><span class="line">            &lt;/foreach&gt;  </span><br><span class="line">        &lt;/if&gt;  </span><br><span class="line">        GROUP BY product_id,promotion_id  </span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure>
<h1 id="注解-Param：这个比较特殊，但是很好理解"><a href="#注解-Param：这个比较特殊，但是很好理解" class="headerlink" title="注解@Param：这个比较特殊，但是很好理解"></a>注解@Param：这个比较特殊，但是很好理解</h1><p>案例一：</p>
<p>@Param(value=”startdate”) String startDate ：注解单一属性；这个类似于将参数重命名了一次</p>
<p>如调用mybatis的*mapper.xml中配置sql语句（DAO层）</p>
<p>List<string> selectIdBySortTime(@Param(value=”startdate”)String startDate);  </string></p>
<p>4.注解@Param：这个比较特殊，但是很好理解</p>
<p>案例一：</p>
<p>@Param(value=”startdate”) String startDate ：注解单一属性；这个类似于将参数重命名了一次</p>
<p>如调用mybatis的*mapper.xml中配置sql语句（DAO层）</p>
<p>List<string> selectIdBySortTime(@Param(value=”startdate”)String startDate);<br>则xml中的语句，需要配合@param括号中的内容:参数为startdate</string></p>
<select id="selectIdBySortTime" resulttype="java.lang.String" parametertype="java.lang.String"><br>    select distinct ajlcid from ebd_fh_ajlc where sorttime &gt;= to_date(#{startdate,jdbcType=VARCHAR},’YYYY-MM-DD’) and created_date=updated_date<br>    and keyvalue in (select  distinct companyname from ebd_fh_company_list where isupdate=’0’)<br>  </select><br>案例二：<br>注解javaBean,@Param(value=”dateVo”) DateVo dateVo；则需要注意编写的参数<br><br><br>List<string> selectIds(@Param(value=”dateVo”)DateVo dateVo);<br>对应的mapping文件<br><br><select id="selectIds" resulttype="java.lang.String" parametertype="com.api.entity.DateVo"><br>    select distinct ajlcid from ebd_fh_ajlc where sorttime &gt;= to_date(#       {dateVo.startDate,jdbcType=VARCHAR},’YYYY-MM-DD’) and created_date=updated_date<br>    and keyvalue in (select  distinct companyname from ebd_fh_company_list where isupdate=’0’)<br> </select>  


<p> List<commodity> getCommodityByMap(Map<string, object=""> params);</string,></commodity></p>
<p>  List<commodity> getCommodityByAnnation(@Param(“name”) String name, @Param(“price”) Double price);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;getCommodityByMap&quot; parameterType=&quot;map&quot; resultType=&quot;com.model.Commodity&quot;&gt;</span><br><span class="line">        SELECT * FROM commodity WHERE name like &apos;%$&#123;name&#125;%&apos; AND price&amp;lt;#&#123;price&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;select id=&quot;getCommodityByAnnation&quot; parameterType=&quot;com.model.Commodity&quot; resultType=&quot;com.model.Commodity&quot;&gt;</span><br><span class="line">        SELECT * FROM commodity WHERE name like &apos;%$&#123;name&#125;%&apos; AND price&amp;lt;#&#123;price&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure></commodity></p>
<h1 id="Mybatis学习笔记（5）-高级映射之多对多映射"><a href="#Mybatis学习笔记（5）-高级映射之多对多映射" class="headerlink" title="Mybatis学习笔记（5）-高级映射之多对多映射"></a>Mybatis学习笔记（5）-高级映射之多对多映射</h1><p><a href="https://juejin.im/post/5a76ab665188257a6e4005ac" target="_blank" rel="noopener">https://juejin.im/post/5a76ab665188257a6e4005ac</a></p>
<p>纯洁的微笑<br>springboot(三)：Spring boot中Redis的使用<br><a href="http://www.ityouknow.com/springboot/2016/03/06/springboot(%E4%B8%89)-Spring-Boot%E4%B8%ADRedis%E7%9A%84%E4%BD%BF%E7%94%A8.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2016/03/06/springboot(%E4%B8%89)-Spring-Boot%E4%B8%ADRedis%E7%9A%84%E4%BD%BF%E7%94%A8.html</a></p>
<p>嘟嘟独立博客<br><a href="http://tengj.top/2017/04/23/springboot9/" target="_blank" rel="noopener">http://tengj.top/2017/04/23/springboot9/</a></p>
<p><a href="https://gitee.com/didispace/SpringBoot-Learning" target="_blank" rel="noopener">https://gitee.com/didispace/SpringBoot-Learning</a></p>
</string>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/23/MyBatis入门/" data-id="cje40g042000104nvdsw9v06p" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mybatis-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/19/mybatis-1/" class="article-date">
  <time datetime="2018-01-19T02:41:38.000Z" itemprop="datePublished">2018-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/19/mybatis-1/">mybatis-1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]  </p>
<p><a href="http://blog.csdn.net/u012702547/article/details/54425130" target="_blank" rel="noopener">idea mybatis 学习路径</a><br><a href="https://github.com/lenve/JavaEETest" target="_blank" rel="noopener">别人的博客</a></p>
<p>好的博客<br><a href="http://www.ityouknow.com/spring-boot.html" target="_blank" rel="noopener">springboot</a><br><a href="https://github.com/ityouknow/spring-boot-examples" target="_blank" rel="noopener">git地址</a></p>
<h2 id="mybatis中几个基本的组件"><a href="#mybatis中几个基本的组件" class="headerlink" title="mybatis中几个基本的组件"></a>mybatis中几个基本的组件</h2><ol>
<li>SqlSessionFactoryBuilder<br>这是一个SqlSessionFactory的构造器，它根据我们的xml配置文件或者Java代码来生成SqlSessionFactory</li>
<li>SqlSessionFactory<br>这个有点类似于我们在JDBC中使用的Connection，我们到时候要根据SqlSessionFactory来生成是一个会话，也就是SqlSession。</li>
<li>SqlSession<br>它可以发送一条SQL语句去执行，并返回结果，从这个角度来说，它有点类似于PrepareStatement，当然，我们也可以利用SqlSession获取Mapper的接口，这个算是SqlSession的一个核心用法了。</li>
<li>Mapper<br>Mapper也可以发送一条SQL语句并返回执行结果，Mapper由两部分组成，一部分是Java接口，另一部分是XML配置文件或者注解。</li>
</ol>
<h2 id="idea-控制台应用程序-mybatis"><a href="#idea-控制台应用程序-mybatis" class="headerlink" title="idea 控制台应用程序  mybatis"></a>idea 控制台应用程序  mybatis</h2><ol>
<li>File 》New》Project,左边选择java,右边选择Java EE,Next,勾选Create project from template,选择Command Line App，Next</li>
<li>选择项目，右键选择 Add FrameWork Support,勾选Maven</li>
</ol>
<p>在pom.xml 添加依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.4.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;4.12&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;5.1.40&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/dependencies&gt;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>配置信息<br>所有的配置文件我们都放在resources文件夹下</li>
</ol>
<ul>
<li><p>创建数据库信息 db.propertie</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver=com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql://localhost:3306/mybatis</span><br><span class="line">username=root</span><br><span class="line">password=sang</span><br></pre></td></tr></table></figure>
</li>
<li><p>mybatis的配置文件 mybatis-conf.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;properties resource=&quot;db.properties&quot;/&gt;</span><br><span class="line">    &lt;typeAliases&gt;</span><br><span class="line">        &lt;typeAlias type=&quot;org.sang.bean.User&quot; alias=&quot;user&quot;/&gt;</span><br><span class="line">    &lt;/typeAliases&gt;</span><br><span class="line">    &lt;environments default=&quot;development&quot;&gt;</span><br><span class="line">        &lt;environment id=&quot;development&quot;&gt;</span><br><span class="line">            &lt;transactionManager type=&quot;JDBC&quot;/&gt;</span><br><span class="line">            &lt;dataSource type=&quot;POOLED&quot;&gt;</span><br><span class="line">                &lt;property name=&quot;driver&quot; value=&quot;$&#123;driver&#125;&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;url&quot; value=&quot;$&#123;url&#125;&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;username&quot; value=&quot;$&#123;username&#125;&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;password&quot; value=&quot;$&#123;password&#125;&quot;/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;mapper resource=&quot;userMapper.xml&quot;/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>说明：<br>我们引入刚刚创建的db.properties文件，方便我们在配置数据库的时候通过${XXX}来直接引用其中的值</p>
<p>起别名：<br>bean包下有许多实体类，一个一个的取别名显然太麻烦<br>注册一个包下所有的实体类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;typeAliases&gt;</span><br><span class="line">    &lt;package name=&quot;org.sang.bean&quot;/&gt;</span><br><span class="line">&lt;/typeAliases&gt;</span><br></pre></td></tr></table></figure></p>
<p>默认的别名即类名，只不过首字母变为小写</p>
<p>引入映射器的方法</p>
<blockquote>
<p>使用文件路径引入映射器<br>路径为xml映射文件的路径包名+文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt;</span><br><span class="line">    &lt;mapper resource=&quot;com/test/model/LoginLogMapper.xml&quot;&gt;&lt;/mapper&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure></p>
<p>使用包名引入映射器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt;</span><br><span class="line">    &lt;package name=&quot;com.test.model&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure></p>
<p>使用扫描方式引入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- mybatis的Mapper的扫描器 MapperScannerConfigure  会自动扫描</span><br><span class="line">         mapper包下的所有接口自动生成代理对象: 对象名字为Mapper接口类名(首字母小写)</span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;bean id=&quot;mapperScanConfig&quot; class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;basePackage&quot; value=&quot;com.huitong.dao&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>用类注册引入映射器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt;</span><br><span class="line">    &lt;mapper class=&quot;com.test.model.LoginLogMapper&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>用userMapper引入映射器<br>路径对应的是网络上了某个文件，注意file:// 前缀 +路径+文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt; </span><br><span class="line">&lt;mapper url=&quot;file://001.Mybatis环境搭建/src/com/test/model/LoginLogMapper.xml&quot;/&gt; </span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="返回列表"><a href="#返回列表" class="headerlink" title="返回列表"></a>返回列表</h2><!-- 为了返回list 类型而定义的returnMap -->
<pre><code>&lt;resultMap type=&quot;User&quot; id=&quot;resultListUser&quot;&gt;
    &lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;
    &lt;result column=&quot;userName&quot; property=&quot;userName&quot; /&gt;
    &lt;result column=&quot;userAge&quot; property=&quot;userAge&quot; /&gt;
    &lt;result column=&quot;userAddress&quot; property=&quot;userAddress&quot; /&gt;
&lt;/resultMap&gt;

&lt;!-- 返回list 的select 语句，注意 resultMap 的值是指向前面定义好的 --&gt;
&lt;select id=&quot;selectUsers&quot; parameterType=&quot;string&quot; resultMap=&quot;resultListUser&quot;&gt;
    select * from user where userName like #{userName}
&lt;/select&gt;
</code></pre><h2 id="用mybatis-增加数据"><a href="#用mybatis-增加数据" class="headerlink" title="用mybatis 增加数据"></a>用mybatis 增加数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--执行增加操作的SQL语句。</span><br><span class="line">       id和parameterType分别与IUserOperation接口中的addUser方法的名字和参数类型一致。</span><br><span class="line">       以#&#123;name&#125;的形式引用Student参数的name属性，MyBatis将使用反射读取Student参数的此属性。</span><br><span class="line">       #&#123;name&#125;中name大小写敏感。引用其他 的gender等属性与此一致。</span><br><span class="line">       useGeneratedKeys设置 为&quot;true&quot;表明要MyBatis获取由数据库自动生成的主 键；</span><br><span class="line">       keyProperty=&quot;id&quot;指定把获取到的主键值注入 到Student的id属性--&gt; </span><br><span class="line">    &lt;insert id=&quot;addUser&quot; parameterType=&quot;User&quot; </span><br><span class="line">        useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; </span><br><span class="line">        insert into user(userName,userAge,userAddress)  </span><br><span class="line">             values(#&#123;userName&#125;,#&#123;userAge&#125;,#&#123;userAddress&#125;)  </span><br><span class="line">    &lt;/insert&gt;</span><br></pre></td></tr></table></figure>
<h2 id="用mybatis-更新数据"><a href="#用mybatis-更新数据" class="headerlink" title="用mybatis 更新数据"></a>用mybatis 更新数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=&quot;updateUser&quot; parameterType=&quot;User&quot; &gt;</span><br><span class="line">        update user set userName=#&#123;userName&#125;,userAge=#&#123;userAge&#125;,userAddress=#&#123;userAddress&#125; where id=#&#123;id&#125;</span><br><span class="line">    &lt;/update&gt;</span><br></pre></td></tr></table></figure>
<h2 id="用mybatis-删除数据"><a href="#用mybatis-删除数据" class="headerlink" title="用mybatis 删除数据"></a>用mybatis 删除数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt;</span><br><span class="line">        delete from user where id=#&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这样，所有增删改查都完成了，注意在增加，更改，删除的时候要调用session.commit()，这样才会真正对数据库进行操作，否则是没有提交的。</p>
</blockquote>
<h2 id="多对一的实现-方法1"><a href="#多对一的实现-方法1" class="headerlink" title="多对一的实现 方法1"></a>多对一的实现 方法1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class Article &#123;</span><br><span class="line">    </span><br><span class="line">    private int id;</span><br><span class="line">    private User user;</span><br><span class="line">    private String title;</span><br><span class="line">    private String content;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>association<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- User 联合文章进行查询 方法之一的配置 (多对一的方式)  --&gt;    </span><br><span class="line">    &lt;resultMap id=&quot;resultUserArticleList&quot; type=&quot;Article&quot;&gt;</span><br><span class="line">        &lt;id property=&quot;id&quot; column=&quot;aid&quot; /&gt;</span><br><span class="line">        &lt;result property=&quot;title&quot; column=&quot;title&quot; /&gt;</span><br><span class="line">        &lt;result property=&quot;content&quot; column=&quot;content&quot; /&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;association property=&quot;user&quot; javaType=&quot;User&quot;&gt;</span><br><span class="line">            &lt;id property=&quot;id&quot; column=&quot;id&quot; /&gt;</span><br><span class="line">            &lt;result property=&quot;userName&quot; column=&quot;userName&quot; /&gt;</span><br><span class="line">            &lt;result property=&quot;userAddress&quot; column=&quot;userAddress&quot; /&gt;            </span><br><span class="line">        &lt;/association&gt;        </span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">&lt;select id=&quot;getUserArticles&quot; parameterType=&quot;int&quot; resultMap=&quot;resultUserArticleList&quot;&gt;</span><br><span class="line">       select user.id,user.userName,user.userAddress,article.id aid,article.title,article.content from user,article </span><br><span class="line">              where user.id=article.userid and user.id=#&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="多对一的实现-方法2-复用"><a href="#多对一的实现-方法2-复用" class="headerlink" title="多对一的实现 方法2  复用"></a>多对一的实现 方法2  复用</h2><h3 id="还有另外一种处理方式，可以复用我们前面已经定义好的-resultMap-前面我们定义过一个-resultListUser-看这第二种方法如何实现"><a href="#还有另外一种处理方式，可以复用我们前面已经定义好的-resultMap-前面我们定义过一个-resultListUser-看这第二种方法如何实现" class="headerlink" title="还有另外一种处理方式，可以复用我们前面已经定义好的 resultMap ,前面我们定义过一个 resultListUser ,看这第二种方法如何实现:"></a>还有另外一种处理方式，可以复用我们前面已经定义好的 resultMap ,前面我们定义过一个 resultListUser ,看这第二种方法如何实现:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap type=&quot;User&quot; id=&quot;resultListUser&quot;&gt;</span><br><span class="line">        &lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;</span><br><span class="line">        &lt;result column=&quot;userName&quot; property=&quot;userName&quot; /&gt;</span><br><span class="line">        &lt;result column=&quot;userAge&quot; property=&quot;userAge&quot; /&gt;</span><br><span class="line">        &lt;result column=&quot;userAddress&quot; property=&quot;userAddress&quot; /&gt;</span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- User 联合文章进行查询 方法之二的配置 (多对一的方式) --&gt;    </span><br><span class="line">    &lt;resultMap id=&quot;resultUserArticleList-2&quot; type=&quot;Article&quot;&gt;</span><br><span class="line">        &lt;id property=&quot;id&quot; column=&quot;aid&quot; /&gt;</span><br><span class="line">        &lt;result property=&quot;title&quot; column=&quot;title&quot; /&gt;</span><br><span class="line">        &lt;result property=&quot;content&quot; column=&quot;content&quot; /&gt;        </span><br><span class="line">        &lt;association property=&quot;user&quot; javaType=&quot;User&quot; resultMap=&quot;resultListUser&quot; /&gt;             </span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;select id=&quot;getUserArticles&quot; parameterType=&quot;int&quot; resultMap=&quot;resultUserArticleList&quot;&gt;</span><br><span class="line">       select user.id,user.userName,user.userAddress,article.id aid,article.title,article.content from user,article </span><br><span class="line">              where user.id=article.userid and user.id=#&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/19/mybatis-1/" data-id="cje40g04g000904nvlpggetcy" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/">spring-boot</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/spring-boot/" style="font-size: 10px;">spring-boot</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/02/26/2018student/">2018student</a>
          </li>
        
          <li>
            <a href="/2018/02/08/SpringBoot整合Swagger2/">SpringBoot整合Swagger2</a>
          </li>
        
          <li>
            <a href="/2018/02/07/java学习/">java学习</a>
          </li>
        
          <li>
            <a href="/2018/02/07/Python爬虫技巧之设置代理IP/">Python爬虫技巧之设置代理IP</a>
          </li>
        
          <li>
            <a href="/2018/02/02/Sortable-js拖拽排序使用方法/">Sortable.js拖拽排序使用方法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>